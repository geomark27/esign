import{r as m,U as b,K as ht,j as t,m as xt,L as gt}from"./app-CecMAAZV.js";import{T as vt}from"./textarea-dMhYuumo.js";import{C as ne,b as re,c as ae,d as ie,a as se}from"./card-CYj-GJA0.js";import{B as Te}from"./app-logo-icon-DfF5Rigy.js";import{I as y}from"./input-WGaoF00a.js";import{L as v}from"./label-DBnFR2J9.js";import{S as oe,a as le,b as ce,c as de,d as ue}from"./select-ChS7d5no.js";import{C as bt}from"./checkbox-BS_UNXDs.js";import{u as Nt}from"./use-breadcrumbs-DdIizaZY.js";import{A as yt}from"./app-layout-BMASLV2d.js";import{s as ke,K as D,L as P,y as z,n as q,o as R,a as ge,b as Q,u as fe,t as Ie,T as jt,l as Me,p as Et,f as Ke,c as Xe,z as pe,F as Ze,i as me,d as wt,O as _e}from"./transition-DHWI8AZo.js";import{r as Ct}from"./index-C-AQJaCY.js";import{U as St}from"./user-BXOs6RoN.js";import{M as Ft,B as Rt}from"./map-pin-C0hYd7Pl.js";import{F as At}from"./file-text-CVpFn08Z.js";import{U as O}from"./upload-CbMDge-v.js";import{S as Tt}from"./shield-BSpjiaV2.js";import"./index-DV3bmtHZ.js";import"./check-meL_zU52.js";function ve(e){return ke.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Lt=m.createContext(void 0);function Dt(){return m.useContext(Lt)}let $t="span";var he=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(he||{});function Pt(e,n){var r;let{features:i=1,...o}=e,d={ref:n,"aria-hidden":(i&2)===2?!0:(r=o["aria-hidden"])!=null?r:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return P()({ourProps:d,theirProps:o,slot:{},defaultTag:$t,name:"Hidden"})}let De=D(Pt),Be=m.createContext(null);Be.displayName="DescriptionContext";function Je(){let e=m.useContext(Be);if(e===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Je),n}return e}function Ot(){let[e,n]=m.useState([]);return[e.length>0?e.join(" "):void 0,m.useMemo(()=>function(r){let i=R(d=>(n(l=>[...l,d]),()=>n(l=>{let u=l.slice(),a=u.indexOf(d);return a!==-1&&u.splice(a,1),u}))),o=m.useMemo(()=>({register:i,slot:r.slot,name:r.name,props:r.props,value:r.value}),[i,r.slot,r.name,r.props,r.value]);return b.createElement(Be.Provider,{value:o},r.children)},[n])]}let kt="p";function It(e,n){let r=m.useId(),i=Dt(),{id:o=`headlessui-description-${r}`,...d}=e,l=Je(),u=z(n);q(()=>l.register(o),[o,l.register]);let a=i||!1,h=m.useMemo(()=>({...l.slot,disabled:a}),[l.slot,a]),f={ref:u,...l.props,id:o};return P()({ourProps:f,theirProps:d,slot:h,defaultTag:kt,name:l.name||"Description"})}let Mt=D(It),Bt=Object.assign(Mt,{});var Qe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Qe||{});let Vt=m.createContext(()=>{});function zt({value:e,children:n}){return b.createElement(Vt.Provider,{value:e},n)}let _t=class extends Map{constructor(n){super(),this.factory=n}get(n){let r=super.get(n);return r===void 0&&(r=this.factory(n),this.set(n,r)),r}};function et(e,n){let r=e(),i=new Set;return{getSnapshot(){return r},subscribe(o){return i.add(o),()=>i.delete(o)},dispatch(o,...d){let l=n[o].call(r,...d);l&&(r=l,i.forEach(u=>u()))}}}function tt(e){return m.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Ht=new _t(()=>et(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let n=this.indexOf(e);if(n===-1)return this;let r=this.slice();return r.splice(n,1),r}}));function W(e,n){let r=Ht.get(n),i=m.useId(),o=tt(r);if(q(()=>{if(e)return r.dispatch("ADD",i),()=>r.dispatch("REMOVE",i)},[r,e]),!e)return!1;let d=o.indexOf(i),l=o.length;return d===-1&&(d=l,l+=1),d===l-1}let $e=new Map,Z=new Map;function He(e){var n;let r=(n=Z.get(e))!=null?n:0;return Z.set(e,r+1),r!==0?()=>Ue(e):($e.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Ue(e))}function Ue(e){var n;let r=(n=Z.get(e))!=null?n:1;if(r===1?Z.delete(e):Z.set(e,r-1),r!==1)return;let i=$e.get(e);i&&(i["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",i["aria-hidden"]),e.inert=i.inert,$e.delete(e))}function Ut(e,{allowed:n,disallowed:r}={}){let i=W(e,"inert-others");q(()=>{var o,d;if(!i)return;let l=ge();for(let a of(o=r==null?void 0:r())!=null?o:[])a&&l.add(He(a));let u=(d=n==null?void 0:n())!=null?d:[];for(let a of u){if(!a)continue;let h=ve(a);if(!h)continue;let f=a.parentElement;for(;f&&f!==h.body;){for(let s of f.children)u.some(x=>s.contains(x))||l.add(He(s));f=f.parentElement}}return l.dispose},[i,n,r])}function qt(e,n,r){let i=Q(o=>{let d=o.getBoundingClientRect();d.x===0&&d.y===0&&d.width===0&&d.height===0&&r()});m.useEffect(()=>{if(!e)return;let o=n===null?null:n instanceof HTMLElement?n:n.current;if(!o)return;let d=ge();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>i.current(o));l.observe(o),d.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>i.current(o));l.observe(o),d.add(()=>l.disconnect())}return()=>d.dispose()},[n,i,e])}let xe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Wt=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var k=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(k||{}),Pe=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Pe||{}),Yt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Yt||{});function Gt(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(xe)).sort((n,r)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Kt(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Wt)).sort((n,r)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var nt=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(nt||{});function Xt(e,n=0){var r;return e===((r=ve(e))==null?void 0:r.body)?!1:fe(n,{0(){return e.matches(xe)},1(){let i=e;for(;i!==null;){if(i.matches(xe))return!0;i=i.parentElement}return!1}})}var Zt=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Zt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I(e){e==null||e.focus({preventScroll:!0})}let Jt=["textarea","input"].join(",");function Qt(e){var n,r;return(r=(n=e==null?void 0:e.matches)==null?void 0:n.call(e,Jt))!=null?r:!1}function en(e,n=r=>r){return e.slice().sort((r,i)=>{let o=n(r),d=n(i);if(o===null||d===null)return 0;let l=o.compareDocumentPosition(d);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function J(e,n,{sorted:r=!0,relativeTo:i=null,skipElements:o=[]}={}){let d=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?r?en(e):e:n&64?Kt(e):Gt(e);o.length>0&&l.length>1&&(l=l.filter(N=>!o.some(j=>j!=null&&"current"in j?(j==null?void 0:j.current)===N:j===N))),i=i??d.activeElement;let u=(()=>{if(n&5)return 1;if(n&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(n&1)return 0;if(n&2)return Math.max(0,l.indexOf(i))-1;if(n&4)return Math.max(0,l.indexOf(i))+1;if(n&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=n&32?{preventScroll:!0}:{},f=0,s=l.length,x;do{if(f>=s||f+s<=0)return 0;let N=a+f;if(n&16)N=(N+s)%s;else{if(N<0)return 3;if(N>=s)return 1}x=l[N],x==null||x.focus(h),f+=u}while(x!==d.activeElement);return n&6&&Qt(x)&&x.select(),2}function rt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function tn(){return/Android/gi.test(window.navigator.userAgent)}function nn(){return rt()||tn()}function K(e,n,r,i){let o=Q(r);m.useEffect(()=>{if(!e)return;function d(l){o.current(l)}return document.addEventListener(n,d,i),()=>document.removeEventListener(n,d,i)},[e,n,i])}function at(e,n,r,i){let o=Q(r);m.useEffect(()=>{if(!e)return;function d(l){o.current(l)}return window.addEventListener(n,d,i),()=>window.removeEventListener(n,d,i)},[e,n,i])}const qe=30;function rn(e,n,r){let i=W(e,"outside-click"),o=Q(r),d=m.useCallback(function(a,h){if(a.defaultPrevented)return;let f=h(a);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let s=function x(N){return typeof N=="function"?x(N()):Array.isArray(N)||N instanceof Set?N:[N]}(n);for(let x of s)if(x!==null&&(x.contains(f)||a.composed&&a.composedPath().includes(x)))return;return!Xt(f,nt.Loose)&&f.tabIndex!==-1&&a.preventDefault(),o.current(a,f)},[o,n]),l=m.useRef(null);K(i,"pointerdown",a=>{var h,f;l.current=((f=(h=a.composedPath)==null?void 0:h.call(a))==null?void 0:f[0])||a.target},!0),K(i,"mousedown",a=>{var h,f;l.current=((f=(h=a.composedPath)==null?void 0:h.call(a))==null?void 0:f[0])||a.target},!0),K(i,"click",a=>{nn()||l.current&&(d(a,()=>l.current),l.current=null)},!0);let u=m.useRef({x:0,y:0});K(i,"touchstart",a=>{u.current.x=a.touches[0].clientX,u.current.y=a.touches[0].clientY},!0),K(i,"touchend",a=>{let h={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(h.x-u.current.x)>=qe||Math.abs(h.y-u.current.y)>=qe))return d(a,()=>a.target instanceof HTMLElement?a.target:null)},!0),at(i,"blur",a=>d(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ee(...e){return m.useMemo(()=>ve(...e),[...e])}function it(e,n,r,i){let o=Q(r);m.useEffect(()=>{e=e??window;function d(l){o.current(l)}return e.addEventListener(n,d,i),()=>e.removeEventListener(n,d,i)},[e,n,i])}function an(){let e;return{before({doc:n}){var r;let i=n.documentElement,o=(r=n.defaultView)!=null?r:window;e=Math.max(0,o.innerWidth-i.clientWidth)},after({doc:n,d:r}){let i=n.documentElement,o=Math.max(0,i.clientWidth-i.offsetWidth),d=Math.max(0,e-o);r.style(i,"paddingRight",`${d}px`)}}}function sn(){return rt()?{before({doc:e,d:n,meta:r}){function i(o){return r.containers.flatMap(d=>d()).some(d=>d.contains(o))}n.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=ge();u.style(e.documentElement,"scrollBehavior","auto"),n.add(()=>n.microTask(()=>u.dispose()))}let d=(o=window.scrollY)!=null?o:window.pageYOffset,l=null;n.addEventListener(e,"click",u=>{if(u.target instanceof HTMLElement)try{let a=u.target.closest("a");if(!a)return;let{hash:h}=new URL(a.href),f=e.querySelector(h);f&&!i(f)&&(l=f)}catch{}},!0),n.addEventListener(e,"touchstart",u=>{if(u.target instanceof HTMLElement)if(i(u.target)){let a=u.target;for(;a.parentElement&&i(a.parentElement);)a=a.parentElement;n.style(a,"overscrollBehavior","contain")}else n.style(u.target,"touchAction","none")}),n.addEventListener(e,"touchmove",u=>{if(u.target instanceof HTMLElement){if(u.target.tagName==="INPUT")return;if(i(u.target)){let a=u.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),n.add(()=>{var u;let a=(u=window.scrollY)!=null?u:window.pageYOffset;d!==a&&window.scrollTo(0,d),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function on(){return{before({doc:e,d:n}){n.style(e.documentElement,"overflow","hidden")}}}function ln(e){let n={};for(let r of e)Object.assign(n,r(n));return n}let U=et(()=>new Map,{PUSH(e,n){var r;let i=(r=this.get(e))!=null?r:{doc:e,count:0,d:ge(),meta:new Set};return i.count++,i.meta.add(n),this.set(e,i),this},POP(e,n){let r=this.get(e);return r&&(r.count--,r.meta.delete(n)),this},SCROLL_PREVENT({doc:e,d:n,meta:r}){let i={doc:e,d:n,meta:ln(r)},o=[sn(),an(),on()];o.forEach(({before:d})=>d==null?void 0:d(i)),o.forEach(({after:d})=>d==null?void 0:d(i))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});U.subscribe(()=>{let e=U.getSnapshot(),n=new Map;for(let[r]of e)n.set(r,r.documentElement.style.overflow);for(let r of e.values()){let i=n.get(r.doc)==="hidden",o=r.count!==0;(o&&!i||!o&&i)&&U.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&U.dispatch("TEARDOWN",r)}});function cn(e,n,r=()=>({containers:[]})){let i=tt(U),o=n?i.get(n):void 0,d=o?o.count>0:!1;return q(()=>{if(!(!n||!e))return U.dispatch("PUSH",n,r),()=>U.dispatch("POP",n,r)},[e,n]),d}function dn(e,n,r=()=>[document.body]){let i=W(e,"scroll-lock");cn(i,n,o=>{var d;return{containers:[...(d=o.containers)!=null?d:[],r]}})}function Ve(e,n){let r=m.useRef([]),i=R(e);m.useEffect(()=>{let o=[...r.current];for(let[d,l]of n.entries())if(r.current[d]!==l){let u=i(n,o);return r.current=n,u}},[i,...n])}function un(e){function n(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}let V=[];un(()=>{function e(n){if(!(n.target instanceof HTMLElement)||n.target===document.body||V[0]===n.target)return;let r=n.target;r=r.closest(xe),V.unshift(r??n.target),V=V.filter(i=>i!=null&&i.isConnected),V.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function st(e){let n=R(e),r=m.useRef(!1);m.useEffect(()=>(r.current=!1,()=>{r.current=!0,Ie(()=>{r.current&&n()})}),[n])}let ot=m.createContext(!1);function mn(){return m.useContext(ot)}function We(e){return b.createElement(ot.Provider,{value:e.force},e.children)}function pn(e){let n=mn(),r=m.useContext(ct),i=ee(e),[o,d]=m.useState(()=>{var l;if(!n&&r!==null)return(l=r.current)!=null?l:null;if(ke.isServer)return null;let u=i==null?void 0:i.getElementById("headlessui-portal-root");if(u)return u;if(i===null)return null;let a=i.createElement("div");return a.setAttribute("id","headlessui-portal-root"),i.body.appendChild(a)});return m.useEffect(()=>{o!==null&&(i!=null&&i.body.contains(o)||i==null||i.body.appendChild(o))},[o,i]),m.useEffect(()=>{n||r!==null&&d(r.current)},[r,d,n]),o}let lt=m.Fragment,fn=D(function(e,n){let r=e,i=m.useRef(null),o=z(jt(s=>{i.current=s}),n),d=ee(i),l=pn(i),[u]=m.useState(()=>{var s;return ke.isServer?null:(s=d==null?void 0:d.createElement("div"))!=null?s:null}),a=m.useContext(Oe),h=Me();q(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),q(()=>{if(u&&a)return a.register(u)},[a,u]),st(()=>{var s;!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((s=l.parentElement)==null||s.removeChild(l)))});let f=P();return h?!l||!u?null:Ct.createPortal(f({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:lt,name:"Portal"}),u):null});function hn(e,n){let r=z(n),{enabled:i=!0,...o}=e,d=P();return i?b.createElement(fn,{...o,ref:r}):d({ourProps:{ref:r},theirProps:o,slot:{},defaultTag:lt,name:"Portal"})}let xn=m.Fragment,ct=m.createContext(null);function gn(e,n){let{target:r,...i}=e,o={ref:z(n)},d=P();return b.createElement(ct.Provider,{value:r},d({ourProps:o,theirProps:i,defaultTag:xn,name:"Popover.Group"}))}let Oe=m.createContext(null);function vn(){let e=m.useContext(Oe),n=m.useRef([]),r=R(d=>(n.current.push(d),e&&e.register(d),()=>i(d))),i=R(d=>{let l=n.current.indexOf(d);l!==-1&&n.current.splice(l,1),e&&e.unregister(d)}),o=m.useMemo(()=>({register:r,unregister:i,portals:n}),[r,i,n]);return[n,m.useMemo(()=>function({children:d}){return b.createElement(Oe.Provider,{value:o},d)},[o])]}let bn=D(hn),dt=D(gn),Nn=Object.assign(bn,{Group:dt});function yn(e,n=typeof document<"u"?document.defaultView:null,r){let i=W(e,"escape");it(n,"keydown",o=>{i&&(o.defaultPrevented||o.key===Qe.Escape&&r(o))})}function jn(){var e;let[n]=m.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,i]=m.useState((e=n==null?void 0:n.matches)!=null?e:!1);return q(()=>{if(!n)return;function o(d){i(d.matches)}return n.addEventListener("change",o),()=>n.removeEventListener("change",o)},[n]),r}function En({defaultContainers:e=[],portals:n,mainTreeNode:r}={}){let i=ee(r),o=R(()=>{var d,l;let u=[];for(let a of e)a!==null&&(a instanceof HTMLElement?u.push(a):"current"in a&&a.current instanceof HTMLElement&&u.push(a.current));if(n!=null&&n.current)for(let a of n.current)u.push(a);for(let a of(d=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?d:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(r&&(a.contains(r)||a.contains((l=r==null?void 0:r.getRootNode())==null?void 0:l.host))||u.some(h=>a.contains(h))||u.push(a));return u});return{resolveContainers:o,contains:R(d=>o().some(l=>l.contains(d)))}}let ut=m.createContext(null);function Ye({children:e,node:n}){let[r,i]=m.useState(null),o=mt(n??r);return b.createElement(ut.Provider,{value:o},e,o===null&&b.createElement(De,{features:he.Hidden,ref:d=>{var l,u;if(d){for(let a of(u=(l=ve(d))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a!=null&&a.contains(d)){i(a);break}}}}))}function mt(e=null){var n;return(n=m.useContext(ut))!=null?n:e}var X=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(X||{});function wn(){let e=m.useRef(0);return at(!0,"keydown",n=>{n.key==="Tab"&&(e.current=n.shiftKey?1:0)},!0),e}function pt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let n=new Set;for(let r of e.current)r.current instanceof HTMLElement&&n.add(r.current);return n}let Cn="div";var H=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(H||{});function Sn(e,n){let r=m.useRef(null),i=z(r,n),{initialFocus:o,initialFocusFallback:d,containers:l,features:u=15,...a}=e;Me()||(u=0);let h=ee(r);Tn(u,{ownerDocument:h});let f=Ln(u,{ownerDocument:h,container:r,initialFocus:o,initialFocusFallback:d});Dn(u,{ownerDocument:h,container:r,containers:l,previousActiveElement:f});let s=wn(),x=R(w=>{let L=r.current;L&&(E=>E())(()=>{fe(s.current,{[X.Forwards]:()=>{J(L,k.First,{skipElements:[w.relatedTarget,d]})},[X.Backwards]:()=>{J(L,k.Last,{skipElements:[w.relatedTarget,d]})}})})}),N=W(!!(u&2),"focus-trap#tab-lock"),j=Et(),p=m.useRef(!1),T={ref:i,onKeyDown(w){w.key=="Tab"&&(p.current=!0,j.requestAnimationFrame(()=>{p.current=!1}))},onBlur(w){if(!(u&4))return;let L=pt(l);r.current instanceof HTMLElement&&L.add(r.current);let E=w.relatedTarget;E instanceof HTMLElement&&E.dataset.headlessuiFocusGuard!=="true"&&(ft(L,E)||(p.current?J(r.current,fe(s.current,{[X.Forwards]:()=>k.Next,[X.Backwards]:()=>k.Previous})|k.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&I(w.target)))}},F=P();return b.createElement(b.Fragment,null,N&&b.createElement(De,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:he.Focusable}),F({ourProps:T,theirProps:a,defaultTag:Cn,name:"FocusTrap"}),N&&b.createElement(De,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:he.Focusable}))}let Fn=D(Sn),Rn=Object.assign(Fn,{features:H});function An(e=!0){let n=m.useRef(V.slice());return Ve(([r],[i])=>{i===!0&&r===!1&&Ie(()=>{n.current.splice(0)}),i===!1&&r===!0&&(n.current=V.slice())},[e,V,n]),R(()=>{var r;return(r=n.current.find(i=>i!=null&&i.isConnected))!=null?r:null})}function Tn(e,{ownerDocument:n}){let r=!!(e&8),i=An(r);Ve(()=>{r||(n==null?void 0:n.activeElement)===(n==null?void 0:n.body)&&I(i())},[r]),st(()=>{r&&I(i())})}function Ln(e,{ownerDocument:n,container:r,initialFocus:i,initialFocusFallback:o}){let d=m.useRef(null),l=W(!!(e&1),"focus-trap#initial-focus"),u=Ke();return Ve(()=>{if(e===0)return;if(!l){o!=null&&o.current&&I(o.current);return}let a=r.current;a&&Ie(()=>{if(!u.current)return;let h=n==null?void 0:n.activeElement;if(i!=null&&i.current){if((i==null?void 0:i.current)===h){d.current=h;return}}else if(a.contains(h)){d.current=h;return}if(i!=null&&i.current)I(i.current);else{if(e&16){if(J(a,k.First|k.AutoFocus)!==Pe.Error)return}else if(J(a,k.First)!==Pe.Error)return;if(o!=null&&o.current&&(I(o.current),(n==null?void 0:n.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}d.current=n==null?void 0:n.activeElement})},[o,l,e]),d}function Dn(e,{ownerDocument:n,container:r,containers:i,previousActiveElement:o}){let d=Ke(),l=!!(e&4);it(n==null?void 0:n.defaultView,"focus",u=>{if(!l||!d.current)return;let a=pt(i);r.current instanceof HTMLElement&&a.add(r.current);let h=o.current;if(!h)return;let f=u.target;f&&f instanceof HTMLElement?ft(a,f)?(o.current=f,I(f)):(u.preventDefault(),u.stopPropagation(),I(h)):I(o.current)},!0)}function ft(e,n){for(let r of e)if(r.contains(n))return!0;return!1}var $n=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($n||{}),Pn=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Pn||{});let On={0(e,n){return e.titleId===n.id?e:{...e,titleId:n.id}}},ze=m.createContext(null);ze.displayName="DialogContext";function be(e){let n=m.useContext(ze);if(n===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,be),r}return n}function kn(e,n){return fe(n.type,On,e,n)}let Ge=D(function(e,n){let r=m.useId(),{id:i=`headlessui-dialog-${r}`,open:o,onClose:d,initialFocus:l,role:u="dialog",autoFocus:a=!0,__demoMode:h=!1,unmount:f=!1,...s}=e,x=m.useRef(!1);u=function(){return u==="dialog"||u==="alertdialog"?u:(x.current||(x.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let N=Xe();o===void 0&&N!==null&&(o=(N&me.Open)===me.Open);let j=m.useRef(null),p=z(j,n),T=ee(j),F=o?0:1,[w,L]=m.useReducer(kn,{titleId:null,descriptionId:null,panelRef:m.createRef()}),E=R(()=>d(!1)),M=R(C=>L({type:0,id:C})),B=Me()?F===0:!1,[Ne,ye]=vn(),je={get current(){var C;return(C=w.panelRef.current)!=null?C:j.current}},Y=mt(),{resolveContainers:G}=En({mainTreeNode:Y,portals:Ne,defaultContainers:[je]}),A=N!==null?(N&me.Closing)===me.Closing:!1;Ut(h||A?!1:B,{allowed:R(()=>{var C,c;return[(c=(C=j.current)==null?void 0:C.closest("[data-headlessui-portal]"))!=null?c:null]}),disallowed:R(()=>{var C;return[(C=Y==null?void 0:Y.closest("body > *:not(#headlessui-portal-root)"))!=null?C:null]})}),rn(B,G,C=>{C.preventDefault(),E()}),yn(B,T==null?void 0:T.defaultView,C=>{C.preventDefault(),C.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),E()}),dn(h||A?!1:B,T,G),qt(B,j,E);let[Ee,we]=Ot(),Ce=m.useMemo(()=>[{dialogState:F,close:E,setTitleId:M,unmount:f},w],[F,w,E,M,f]),te=m.useMemo(()=>({open:F===0}),[F]),Se={ref:p,id:i,role:u,tabIndex:-1,"aria-modal":h?void 0:F===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":Ee,unmount:f},Fe=!jn(),_=H.None;B&&!h&&(_|=H.RestoreFocus,_|=H.TabLock,a&&(_|=H.AutoFocus),Fe&&(_|=H.InitialFocus));let Re=P();return b.createElement(wt,null,b.createElement(We,{force:!0},b.createElement(Nn,null,b.createElement(ze.Provider,{value:Ce},b.createElement(dt,{target:j},b.createElement(We,{force:!1},b.createElement(we,{slot:te},b.createElement(ye,null,b.createElement(Rn,{initialFocus:l,initialFocusFallback:j,containers:G,features:_},b.createElement(zt,{value:E},Re({ourProps:Se,theirProps:s,slot:te,defaultTag:In,features:Mn,visible:F===0,name:"Dialog"})))))))))))}),In="div",Mn=_e.RenderStrategy|_e.Static;function Bn(e,n){let{transition:r=!1,open:i,...o}=e,d=Xe(),l=e.hasOwnProperty("open")||d!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!d&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(i!==void 0||r)&&!o.static?b.createElement(Ye,null,b.createElement(pe,{show:i,transition:r,unmount:o.unmount},b.createElement(Ge,{ref:n,...o}))):b.createElement(Ye,null,b.createElement(Ge,{ref:n,open:i,...o}))}let Vn="div";function zn(e,n){let r=m.useId(),{id:i=`headlessui-dialog-panel-${r}`,transition:o=!1,...d}=e,[{dialogState:l,unmount:u},a]=be("Dialog.Panel"),h=z(n,a.panelRef),f=m.useMemo(()=>({open:l===0}),[l]),s=R(T=>{T.stopPropagation()}),x={ref:h,id:i,onClick:s},N=o?Ze:m.Fragment,j=o?{unmount:u}:{},p=P();return b.createElement(N,{...j},p({ourProps:x,theirProps:d,slot:f,defaultTag:Vn,name:"Dialog.Panel"}))}let _n="div";function Hn(e,n){let{transition:r=!1,...i}=e,[{dialogState:o,unmount:d}]=be("Dialog.Backdrop"),l=m.useMemo(()=>({open:o===0}),[o]),u={ref:n,"aria-hidden":!0},a=r?Ze:m.Fragment,h=r?{unmount:d}:{},f=P();return b.createElement(a,{...h},f({ourProps:u,theirProps:i,slot:l,defaultTag:_n,name:"Dialog.Backdrop"}))}let Un="h2";function qn(e,n){let r=m.useId(),{id:i=`headlessui-dialog-title-${r}`,...o}=e,[{dialogState:d,setTitleId:l}]=be("Dialog.Title"),u=z(n);m.useEffect(()=>(l(i),()=>l(null)),[i,l]);let a=m.useMemo(()=>({open:d===0}),[d]),h={ref:u,id:i};return P()({ourProps:h,theirProps:o,slot:a,defaultTag:Un,name:"Dialog.Title"})}let Wn=D(Bn),Yn=D(zn);D(Hn);let Gn=D(qn),Le=Object.assign(Wn,{Panel:Yn,Title:Gn,Description:Bt});function Kn(){const{errors:e}=ht().props,[n,r]=m.useState(!1);return m.useEffect(()=>{Object.keys(e).length>0&&r(!0)},[e]),t.jsx(pe,{appear:!0,show:n,as:m.Fragment,children:t.jsx(Le,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:()=>r(!1),children:t.jsxs("div",{className:"min-h-screen px-4 text-center",children:[t.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),t.jsx(pe.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t.jsx("div",{className:"fixed inset-0 bg-white/10 backdrop-blur-md","aria-hidden":"true"})}),t.jsx(pe.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t.jsxs(Le.Panel,{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[t.jsx(Le.Title,{as:"h3",className:"text-lg font-medium leading-6 text-red-700",children:"Errores de validación"}),t.jsx("div",{className:"mt-4",children:t.jsx("ul",{className:"list-disc list-inside text-sm text-red-600 space-y-1",children:Object.entries(e).map(([i,o])=>t.jsx("li",{children:o},i))})}),t.jsx("div",{className:"mt-6 text-right",children:t.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium bg-red-100 text-red-800 rounded hover:bg-red-200",onClick:()=>r(!1),children:"Cerrar"})})]})})]})})})}function xr({applicationTypes:e,periods:n,cities:r,provinces:i}){const{userBreadcrumbs:o}=Nt(),d=o.certifications.create(),[l,u]=m.useState(1),[a,h]=m.useState({}),f=4,{data:s,setData:x,post:N,processing:j,errors:p,progress:T}=xt({identificationNumber:"",applicantName:"",applicantLastName:"",applicantSecondLastName:"",dateOfBirth:"",fingerCode:"",emailAddress:"",cellphoneNumber:"+593",city:"",province:"",address:"",countryCode:"EC",companyRuc:"",positionCompany:"",companySocialReason:"",appointmentExpirationDate:"",documentType:"CI",applicationType:"",referenceTransaction:"",period:"",identificationFront:null,identificationBack:null,identificationSelfie:null,pdfCompanyRuc:null,pdfRepresentativeAppointment:null,pdfAppointmentAcceptance:null,pdfCompanyConstitution:null,authorizationVideo:null,terms_accepted:!1}),F=s.applicationType==="LEGAL_REPRESENTATIVE",w=F||s.companyRuc,L=c=>{if(!c)return 0;const g=new Date,S=new Date(c);let $=g.getFullYear()-S.getFullYear();const Ae=g.getMonth()-S.getMonth();return(Ae<0||Ae===0&&g.getDate()<S.getDate())&&$--,$},E=L(s.dateOfBirth),M=E>=65,B=E<18&&s.dateOfBirth!=="",Ne=()=>{const g=new Date().toLocaleDateString("es-EC",{day:"2-digit",month:"long",year:"numeric"}).toUpperCase();let S=s.applicantName;return s.applicantLastName&&(S+=" "+s.applicantLastName),s.applicantSecondLastName&&(S+=" "+s.applicantSecondLastName),`"Hoy ${g}, Yo ${S.toUpperCase()} con CI. ${s.identificationNumber} autorizo a FIRMASEGURA emitir mi firma electrónica, sabiendo que tiene la misma validez legal que la firma manuscrita y sea enviada a mi correo electrónico ${s.emailAddress}"`},ye=()=>{const c={};s.applicationType||(c.applicationType="Seleccione el tipo de aplicación"),s.identificationNumber||(c.identificationNumber="Ingrese el número de identificación"),s.applicantName||(c.applicantName="Ingrese el nombre"),s.applicantLastName||(c.applicantLastName="Ingrese el apellido paterno"),s.dateOfBirth||(c.dateOfBirth="Ingrese la fecha de nacimiento"),s.fingerCode||(c.fingerCode="Ingrese el código dactilar"),s.emailAddress||(c.emailAddress="Ingrese el correo electrónico"),(!s.cellphoneNumber||s.cellphoneNumber==="+593")&&(c.cellphoneNumber="Ingrese el número de celular"),s.identificationNumber&&s.identificationNumber.length!==10&&(c.identificationNumber="La cédula debe tener 10 dígitos");const g=/^[A-Z]\d{4}[A-Z]\d{4}$/;if(s.fingerCode&&!g.test(s.fingerCode)&&(c.fingerCode="Formato inválido. Ejemplo: V1234V1234"),s.emailAddress&&!/\S+@\S+\.\S+/.test(s.emailAddress)&&(c.emailAddress="Formato de correo inválido"),s.cellphoneNumber&&!/^\+5939\d{8}$/.test(s.cellphoneNumber)&&(c.cellphoneNumber="Formato de celular inválido"),s.dateOfBirth){L(s.dateOfBirth)<18&&(c.dateOfBirth="Debe ser mayor de 18 años para solicitar el certificado");const $=new Date;new Date(s.dateOfBirth)>$&&(c.dateOfBirth="La fecha de nacimiento no puede ser futura")}return h(c),Object.keys(c).length===0},je=()=>{var S,$;const c={};s.province||(c.province="Seleccione la provincia"),s.city||(c.city="Seleccione la ciudad"),s.address||(c.address="Ingrese la dirección"),s.referenceTransaction||(c.referenceTransaction="Ingrese la referencia de transacción"),s.period||(c.period="Seleccione el período");const g=s.personType==="NATURAL_PERSON"&&((S=s.identificationNumber)==null?void 0:S.length)===13;return g&&!s.companyRuc&&(c.companyRuc="Debes ingresar el RUC de la empresa"),g&&(($=s.companyRuc)==null?void 0:$.length)!==13&&(c.companyRuc="El RUC debe tener 13 dígitos"),F&&(s.companySocialReason||(c.companySocialReason="Ingrese la razón social"),s.positionCompany||(c.positionCompany="Ingrese el cargo en la empresa"),s.appointmentExpirationDate||(c.appointmentExpirationDate="Ingrese la fecha de expiración del nombramiento")),h(c),Object.keys(c).length===0},Y=()=>{var S;const c={};return s.identificationFront||(c.identificationFront="Suba la foto frontal de la cédula"),s.identificationBack||(c.identificationBack="Suba la foto posterior de la cédula"),s.identificationSelfie||(c.identificationSelfie="Suba la selfie con la cédula"),s.personType==="NATURAL_PERSON"&&((S=s.identificationNumber)==null?void 0:S.length)===13&&!s.pdfCompanyRuc&&(c.pdfCompanyRuc="Suba el PDF del RUC de la empresa"),w&&(s.pdfCompanyRuc||(c.pdfCompanyRuc="Suba el PDF del RUC de la empresa")),F&&(s.pdfRepresentativeAppointment||(c.pdfRepresentativeAppointment="Suba el nombramiento de representante"),s.pdfAppointmentAcceptance||(c.pdfAppointmentAcceptance="Suba la aceptación del nombramiento")),M&&!s.authorizationVideo&&(c.authorizationVideo="El video de autorización es obligatorio para personas mayores de 65 años"),h(c),Object.keys(c).length===0},G=()=>{const c={};return s.terms_accepted||(c.terms_accepted="Debe aceptar los términos y condiciones"),h(c),Object.keys(c).length===0},A=c=>g=>{var $;const S=(($=g.target.files)==null?void 0:$[0])||null;x(c,S)},Ee=c=>{c.preventDefault(),N(route("user.certifications.store"))},we=()=>{let c=!1;switch(l){case 1:c=ye();break;case 2:c=je();break;case 3:c=Y();break;case 4:c=G();break;default:c=!0}c&&l<f&&(u(l+1),h({}))},Ce=()=>{l>1&&(u(l-1),h({}))},te=c=>({1:"Información Personal",2:"Información Empresarial",3:"Documentos Requeridos",4:"Revisión y Envío"})[c],Se=()=>t.jsx("div",{className:"flex items-center justify-between mb-8",children:Array.from({length:f},(c,g)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium
                        ${l>g+1?"bg-green-500 text-white":l===g+1?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}
                    `,children:g+1}),g<f-1&&t.jsx("div",{className:`
                            w-16 h-1 mx-2
                            ${l>g+1?"bg-green-500":"bg-gray-200"}
                        `})]},g))}),Fe=()=>t.jsxs(ne,{children:[t.jsxs(re,{children:[t.jsxs(ae,{className:"flex items-center gap-2",children:[t.jsx(St,{className:"h-5 w-5"}),"Información Personal"]}),t.jsx(ie,{children:"Complete sus datos personales y de contacto"})]}),t.jsxs(se,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"applicationType",children:"Tipo de Aplicación *"}),t.jsxs(oe,{value:s.applicationType,onValueChange:c=>x("applicationType",c),children:[t.jsx(le,{children:t.jsx(ce,{placeholder:"Seleccione tipo de aplicación"})}),t.jsx(de,{children:Object.entries(e).map(([c,g])=>t.jsx(ue,{value:c,children:g},c))})]}),p.applicationType||a.applicationType&&t.jsx("p",{className:"text-sm text-red-500",children:p.applicationType||a.applicationType})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"identificationNumber",children:"Número de Identificación *"}),t.jsx(y,{id:"identificationNumber",type:"text",value:s.identificationNumber,onChange:c=>x("identificationNumber",c.target.value),placeholder:"1234567890",maxLength:10}),(p.identificationNumber||a.identificationNumber)&&t.jsx("p",{className:"text-sm text-red-500",children:p.identificationNumber||a.identificationNumber})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"applicantName",children:"Nombre *"}),t.jsx(y,{id:"applicantName",type:"text",value:s.applicantName,onChange:c=>x("applicantName",c.target.value)}),(p.applicantName||a.applicantName)&&t.jsx("p",{className:"text-sm text-red-500",children:p.applicantName||a.applicantName})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"applicantLastName",children:"Apellido Paterno *"}),t.jsx(y,{id:"applicantLastName",type:"text",value:s.applicantLastName,onChange:c=>x("applicantLastName",c.target.value)}),(p.applicantLastName||a.applicantLastName)&&t.jsx("p",{className:"text-sm text-red-500",children:p.applicantLastName||a.applicantLastName})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"applicantSecondLastName",children:"Apellido Materno"}),t.jsx(y,{id:"applicantSecondLastName",type:"text",value:s.applicantSecondLastName,onChange:c=>x("applicantSecondLastName",c.target.value)})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"dateOfBirth",children:"Fecha de Nacimiento *"}),t.jsx(y,{id:"dateOfBirth",type:"date",value:s.dateOfBirth,onChange:c=>x("dateOfBirth",c.target.value),max:new Date().toISOString().split("T")[0]}),s.dateOfBirth&&t.jsxs("p",{className:"text-xs text-gray-600",children:["Edad: ",E," años",B&&t.jsx("span",{className:"text-red-600 ml-2",children:"⚠️ Debe ser mayor de 18 años"}),M&&t.jsx("span",{className:"text-blue-600 ml-2",children:"ℹ️ Se requerirá video de autorización"})]}),(p.dateOfBirth||a.dateOfBirth)&&t.jsx("p",{className:"text-sm text-red-500",children:p.dateOfBirth||a.dateOfBirth})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"fingerCode",children:"Código Dactilar *"}),t.jsx(y,{id:"fingerCode",type:"text",value:s.fingerCode,onChange:c=>x("fingerCode",c.target.value),placeholder:"V1234V1234",maxLength:10}),t.jsx("p",{className:"text-xs text-gray-500",children:"Formato: V1234V1234"}),(p.fingerCode||a.fingerCode)&&t.jsx("p",{className:"text-sm text-red-500",children:p.fingerCode||a.fingerCode})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"emailAddress",children:"Correo Electrónico *"}),t.jsx(y,{id:"emailAddress",type:"email",value:s.emailAddress,onChange:c=>x("emailAddress",c.target.value)}),(p.emailAddress||a.emailAddress)&&t.jsx("p",{className:"text-sm text-red-500",children:p.emailAddress||a.emailAddress})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"cellphoneNumber",children:"Número de Celular *"}),t.jsxs("div",{className:"flex",children:[t.jsx("span",{className:"inline-flex items-center px-3 text-sm text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md",children:"+593"}),t.jsx(y,{id:"cellphoneNumber",type:"tel",value:s.cellphoneNumber.replace("+593",""),onChange:c=>{const g=c.target.value.replace(/\D/g,"");g.length<=9&&(g.length>=2&&g.substring(0,2)+""+g.substring(2),g.length>=5&&g.substring(0,2)+""+g.substring(2,5)+g.substring(5),x("cellphoneNumber","+593"+g))},placeholder:"96 831 9032",maxLength:11,className:"rounded-l-none"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Formato: 96 831 9032 (9 dígitos)"}),(p.cellphoneNumber||a.cellphoneNumber)&&t.jsx("p",{className:"text-sm text-red-500",children:p.cellphoneNumber||a.cellphoneNumber})]})]})]}),_=()=>t.jsxs(ne,{children:[t.jsxs(re,{children:[t.jsxs(ae,{className:"flex items-center gap-2",children:[t.jsx(Ft,{className:"h-5 w-5"}),"Ubicación e Información Empresarial"]}),t.jsx(ie,{children:"Complete su dirección y datos empresariales si aplica"})]}),t.jsxs(se,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"province",children:"Provincia *"}),t.jsxs(oe,{value:s.province,onValueChange:c=>x("province",c),children:[t.jsx(le,{children:t.jsx(ce,{placeholder:"Seleccione provincia"})}),t.jsx(de,{children:i.map(c=>t.jsx(ue,{value:c,children:c},c))})]}),(p.province||a.province)&&t.jsx("p",{className:"text-sm text-red-500",children:p.province||a.province})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"city",children:"Ciudad *"}),t.jsxs(oe,{value:s.city,onValueChange:c=>x("city",c),children:[t.jsx(le,{children:t.jsx(ce,{placeholder:"Seleccione ciudad"})}),t.jsx(de,{children:r.map(c=>t.jsx(ue,{value:c,children:c},c))})]}),(p.city||a.city)&&t.jsx("p",{className:"text-sm text-red-500",children:p.city||a.city})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"address",children:"Dirección *"}),t.jsx(vt,{id:"address",value:s.address,onChange:c=>x("address",c.target.value),placeholder:"Ingrese su dirección completa",rows:3}),(p.address||a.address)&&t.jsx("p",{className:"text-sm text-red-500",children:p.address||a.address})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[t.jsx(Rt,{className:"h-5 w-5"}),"Información Empresarial"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"companyRuc",children:"RUC de la Empresa"}),t.jsx(y,{id:"companyRuc",type:"text",value:s.companyRuc,onChange:c=>x("companyRuc",c.target.value),placeholder:"1234567890001",maxLength:13}),(p.companyRuc||a.companyRuc)&&t.jsx("p",{className:"text-sm text-red-500",children:p.companyRuc||a.companyRuc})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"companySocialReason",children:"Razón Social de la Empresa"}),t.jsx(y,{id:"companySocialReason",type:"text",value:s.companySocialReason,onChange:c=>x("companySocialReason",c.target.value)}),(p.companySocialReason||a.companySocialReason)&&t.jsx("p",{className:"text-sm text-red-500",children:p.companySocialReason||a.companySocialReason})]})]}),F&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"positionCompany",children:"Cargo en la Empresa *"}),t.jsx(y,{id:"positionCompany",type:"text",value:s.positionCompany,onChange:c=>x("positionCompany",c.target.value)}),(p.positionCompany||a.positionCompany)&&t.jsx("p",{className:"text-sm text-red-500",children:p.positionCompany||a.positionCompany})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"appointmentExpirationDate",children:"Fecha de Expiración del Nombramiento *"}),t.jsx(y,{id:"appointmentExpirationDate",type:"date",value:s.appointmentExpirationDate,onChange:c=>x("appointmentExpirationDate",c.target.value)}),(p.appointmentExpirationDate||a.appointmentExpirationDate)&&t.jsx("p",{className:"text-sm text-red-500",children:p.appointmentExpirationDate||a.appointmentExpirationDate})]})]})})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:"Información de Transacción"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"referenceTransaction",children:"Referencia de Transacción *"}),t.jsx(y,{id:"referenceTransaction",type:"text",value:s.referenceTransaction,onChange:c=>x("referenceTransaction",c.target.value)}),t.jsx("p",{className:"text-xs text-gray-500 italic",children:"El número de referencia se asignará al completar el proceso."}),(p.referenceTransaction||a.referenceTransaction)&&t.jsx("p",{className:"text-sm text-red-500",children:p.referenceTransaction||a.referenceTransaction})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"period",children:"Período *"}),t.jsxs(oe,{value:s.period,onValueChange:c=>x("period",c),children:[t.jsx(le,{children:t.jsx(ce,{placeholder:"Seleccione período"})}),t.jsx(de,{children:n.map(c=>t.jsxs(ue,{value:c.period,children:[c.display_name," - $",c.price]},c.id))})]}),(p.period||a.period)&&t.jsx("p",{className:"text-sm text-red-500",children:p.period||a.period})]})]})]})]})]}),Re=()=>t.jsxs(ne,{children:[t.jsxs(re,{children:[t.jsxs(ae,{className:"flex items-center gap-2",children:[t.jsx(At,{className:"h-5 w-5"}),"Documentos Requeridos"]}),t.jsx(ie,{children:"Suba todos los documentos necesarios para su solicitud"})]}),t.jsxs(se,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:"Documentos de Identificación"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"identificationFront",children:"Cédula (Frontal) *"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsx(y,{id:"identificationFront",type:"file",accept:"image/*,.pdf",onChange:A("identificationFront"),className:"hidden"}),t.jsx(v,{htmlFor:"identificationFront",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"Seleccionar archivo"}),s.identificationFront&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.identificationFront.name})]}),(p.identificationFront||a.identificationFront)&&t.jsx("p",{className:"text-sm text-red-500",children:p.identificationFront||a.identificationFront})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"identificationBack",children:"Cédula (Posterior) *"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsx(y,{id:"identificationBack",type:"file",accept:"image/*,.pdf",onChange:A("identificationBack"),className:"hidden"}),t.jsx(v,{htmlFor:"identificationBack",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"Seleccionar archivo"}),s.identificationBack&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.identificationBack.name})]}),(p.identificationBack||a.identificationBack)&&t.jsx("p",{className:"text-sm text-red-500",children:p.identificationBack||a.identificationBack})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"identificationSelfie",children:"Selfie con Cédula *"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsx(y,{id:"identificationSelfie",type:"file",accept:"image/*",onChange:A("identificationSelfie"),className:"hidden"}),t.jsx(v,{htmlFor:"identificationSelfie",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"Seleccionar archivo"}),s.identificationSelfie&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.identificationSelfie.name})]}),(p.identificationSelfie||a.identificationSelfie)&&t.jsx("p",{className:"text-sm text-red-500",children:p.identificationSelfie||a.identificationSelfie})]})]})]}),w&&t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:"Documentos Empresariales"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"pdfCompanyRuc",children:"RUC de la Empresa *"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsx(y,{id:"pdfCompanyRuc",type:"file",accept:".pdf",onChange:A("pdfCompanyRuc"),className:"hidden"}),t.jsx(v,{htmlFor:"pdfCompanyRuc",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"Seleccionar PDF"}),s.pdfCompanyRuc&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.pdfCompanyRuc.name})]}),(p.pdfCompanyRuc||a.pdfCompanyRuc)&&t.jsx("p",{className:"text-sm text-red-500",children:p.pdfCompanyRuc||a.pdfCompanyRuc})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"pdfCompanyConstitution",children:"Constitución de la Empresa"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsx(y,{id:"pdfCompanyConstitution",type:"file",accept:".pdf",onChange:A("pdfCompanyConstitution"),className:"hidden"}),t.jsx(v,{htmlFor:"pdfCompanyConstitution",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"Seleccionar PDF"}),s.pdfCompanyConstitution&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.pdfCompanyConstitution.name})]})]})]})]}),F&&t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:"Documentos de Nombramiento"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"pdfRepresentativeAppointment",children:"Nombramiento de Representante *"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsx(y,{id:"pdfRepresentativeAppointment",type:"file",accept:".pdf",onChange:A("pdfRepresentativeAppointment"),className:"hidden"}),t.jsx(v,{htmlFor:"pdfRepresentativeAppointment",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"Seleccionar PDF"}),s.pdfRepresentativeAppointment&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.pdfRepresentativeAppointment.name})]}),(p.pdfRepresentativeAppointment||a.pdfRepresentativeAppointment)&&t.jsx("p",{className:"text-sm text-red-500",children:p.pdfRepresentativeAppointment||a.pdfRepresentativeAppointment})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"pdfAppointmentAcceptance",children:"Aceptación del Nombramiento *"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsx(y,{id:"pdfAppointmentAcceptance",type:"file",accept:".pdf",onChange:A("pdfAppointmentAcceptance"),className:"hidden"}),t.jsx(v,{htmlFor:"pdfAppointmentAcceptance",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"Seleccionar PDF"}),s.pdfAppointmentAcceptance&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.pdfAppointmentAcceptance.name})]}),(p.pdfAppointmentAcceptance||a.pdfAppointmentAcceptance)&&t.jsx("p",{className:"text-sm text-red-500",children:p.pdfAppointmentAcceptance||a.pdfAppointmentAcceptance})]})]})]}),M&&t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h3",{className:"text-lg font-medium mb-4 text-orange-600",children:"Video de Autorización Requerido"}),t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-4 mb-4",children:[t.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"⚠️ Requisito Especial - Mayor de 65 años"}),t.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"Como persona mayor de 65 años, debe grabar un video de autorización leyendo exactamente el siguiente texto:"}),t.jsx("div",{className:"bg-white border border-orange-300 rounded p-3 text-sm font-mono text-gray-800",children:Ne()}),t.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"📹 El video debe ser claro, con buena iluminación y audio. Asegúrese de leer el texto completo tal como aparece arriba."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"authorizationVideo",children:"Video de Autorización *"}),t.jsxs("div",{className:"border-2 border-dashed border-orange-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-orange-400 mb-2"}),t.jsx(y,{id:"authorizationVideo",type:"file",accept:"video/*",onChange:A("authorizationVideo"),className:"hidden"}),t.jsx(v,{htmlFor:"authorizationVideo",className:"cursor-pointer text-sm text-orange-600 hover:text-orange-800",children:"Seleccionar Video"}),s.authorizationVideo&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.authorizationVideo.name})]}),(p.authorizationVideo||a.authorizationVideo)&&t.jsx("p",{className:"text-sm text-red-500",children:p.authorizationVideo||a.authorizationVideo})]})]}),!M&&E>=18&&t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:"Video de Autorización (Opcional)"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(v,{htmlFor:"authorizationVideo",children:"Video de Autorización"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[t.jsx(O,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),t.jsx(y,{id:"authorizationVideo",type:"file",accept:"video/*",onChange:A("authorizationVideo"),className:"hidden"}),t.jsx(v,{htmlFor:"authorizationVideo",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:"Seleccionar Video"}),s.authorizationVideo&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.authorizationVideo.name})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Grabe un video donde se identifique y autorice la solicitud (opcional)"})]})]})]})]}),C=()=>{var c;return t.jsxs(ne,{children:[t.jsxs(re,{children:[t.jsxs(ae,{className:"flex items-center gap-2",children:[t.jsx(Tt,{className:"h-5 w-5"}),"Revisión y Envío"]}),t.jsx(ie,{children:"Revise su información antes de enviar la solicitud"})]}),t.jsxs(se,{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-medium mb-3",children:"Resumen de su solicitud:"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Tipo:"})," ",e[s.applicationType]]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Período:"})," ",(c=n.find(g=>g.period===s.period))==null?void 0:c.display_name]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Nombre:"})," ",s.applicantName," ",s.applicantLastName]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Identificación:"})," ",s.identificationNumber]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Fecha de Nacimiento:"})," ",s.dateOfBirth," (",E," años)"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Email:"})," ",s.emailAddress]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Teléfono:"})," ",s.cellphoneNumber]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("strong",{children:"Dirección:"})," ",s.address,", ",s.city,", ",s.province]}),M&&t.jsxs("div",{className:"md:col-span-2 p-3 bg-orange-50 border border-orange-200 rounded",children:[t.jsx("strong",{className:"text-orange-800",children:"⚠️ Requisito especial:"}),t.jsx("span",{className:"text-orange-700",children:" Video de autorización requerido (mayor de 65 años)"})]})]})]}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(bt,{id:"terms",checked:s.terms_accepted,onCheckedChange:g=>x("terms_accepted",g)}),t.jsx(v,{htmlFor:"terms",className:"text-sm leading-relaxed",children:"Acepto los términos y condiciones, y autorizo el procesamiento de mis datos personales de acuerdo con las políticas de privacidad establecidas. Confirmo que toda la información proporcionada es veraz y completa."})]}),(p.terms_accepted||a.terms_accepted)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:p.terms_accepted||a.terms_accepted})]}),T&&t.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-2",children:[t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${T.percentage}%`}}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Subiendo archivos... ",T.percentage,"%"]})]})]})]})};return t.jsxs(yt,{breadcrumbs:d,children:[t.jsx(gt,{title:"Nueva Solicitud de Certificado"}),t.jsx(Kn,{}),t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Nueva Solicitud de Certificado"}),t.jsx("p",{className:"text-gray-600",children:"Complete el formulario para solicitar su certificado digital"})]}),t.jsxs("div",{className:"text-right text-sm text-gray-500",children:["Paso ",l," de ",f]})]}),t.jsx(Se,{}),Object.keys(a).length>0&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:t.jsx("div",{className:"flex",children:t.jsxs("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Hay errores que deben corregirse:"}),t.jsx("div",{className:"mt-2 text-sm text-red-700",children:t.jsx("ul",{className:"list-disc pl-5 space-y-1",children:Object.values(a).map((c,g)=>t.jsx("li",{children:c},g))})})]})})}),t.jsxs("form",{onSubmit:Ee,className:"space-y-6",children:[t.jsx("div",{className:"mb-6",children:t.jsx("h2",{className:"text-xl font-semibold mb-2",children:te(l)})}),l===1&&Fe(),l===2&&_(),l===3&&Re(),l===4&&C(),t.jsxs("div",{className:"flex justify-between pt-6",children:[t.jsx(Te,{type:"button",variant:"outline",onClick:Ce,disabled:l===1,children:"Anterior"}),t.jsx("div",{className:"flex gap-3",children:l<f?t.jsx(Te,{type:"button",onClick:we,children:"Siguiente"}):t.jsx(Te,{type:"submit",disabled:j||!s.terms_accepted,className:"bg-green-600 hover:bg-green-700",children:j?"Enviando...":"Enviar Solicitud"})})]})]})]})]})}export{xr as default};
