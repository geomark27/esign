import{m as b,j as e,L as N,$ as l}from"./app-CecMAAZV.js";import{B as i}from"./app-logo-icon-DfF5Rigy.js";import{C as t}from"./card-CYj-GJA0.js";import{I as g}from"./input-WGaoF00a.js";import{L as d}from"./label-DBnFR2J9.js";import{u as y}from"./use-breadcrumbs-DdIizaZY.js";import{A as v}from"./app-layout-BMASLV2d.js";import{A as w}from"./arrow-left-BWYQ53fm.js";import{S as x}from"./shield-BSpjiaV2.js";import{T as C}from"./triangle-alert-CjmC5yuf.js";import{S as L}from"./save-tksyHSq0.js";import{I as S}from"./info-9eboEM3w.js";import"./index-C-AQJaCY.js";import"./index-DV3bmtHZ.js";function V({role:s}){const{adminBreadcrumbs:p}=y(),h=p.roles.edit(),{data:n,setData:c,put:u,processing:m,errors:r}=b({display_name:s.display_name,description:s.description||""}),j=a=>{a.preventDefault(),u(`/admin/roles/${s.id}`)},f=(a=>{switch(a.toLowerCase()){case"admin":return"bg-red-500 text-white";case"user":return"bg-blue-500 text-white";case"editor":return"bg-green-500 text-white";case"moderator":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}})(s.name),o=["admin","user"].includes(s.name.toLowerCase());return e.jsxs(v,{breadcrumbs:h,children:[e.jsx(N,{title:`Editar Rol: ${s.display_name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Editar Rol: ",s.display_name]}),e.jsx("p",{className:"text-muted-foreground",children:"Modifica la información básica del rol"})]}),e.jsx(l,{href:"/admin/roles",children:e.jsxs(i,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Volver a Roles"})]})})]}),e.jsx(t,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${f}`,children:e.jsx(x,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("h3",{className:"font-medium text-blue-900",children:["Rol: ",s.name]}),e.jsxs("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded",children:["ID: ",s.id]}),o&&e.jsx("span",{className:"text-xs bg-amber-200 text-amber-800 px-2 py-1 rounded",children:"Rol del Sistema"})]}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Creado el: ",new Date(s.created_at).toLocaleDateString("es-ES")]})]})]})}),o&&e.jsx(t,{className:"p-4 bg-amber-50 border-amber-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(C,{className:"w-5 h-5 text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-amber-900",children:"Rol del Sistema"}),e.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Este es un rol fundamental del sistema. Ten cuidado al modificar su información ya que puede afectar el funcionamiento de la aplicación."})]})]})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(t,{className:"p-6",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"display_name",children:["Nombre para mostrar ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"display_name",type:"text",value:n.display_name,onChange:a=>c("display_name",a.target.value),placeholder:"Ej: Administrador, Usuario, Editor...",className:r.display_name?"border-red-500":""}),r.display_name&&e.jsx("p",{className:"text-sm text-red-600",children:r.display_name}),e.jsx("p",{className:"text-xs text-gray-600",children:"Este es el nombre que verán los usuarios en la interfaz"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"description",children:["Descripción ",e.jsx("span",{className:"text-gray-500",children:"(Opcional)"})]}),e.jsx("textarea",{id:"description",value:n.description,onChange:a=>c("description",a.target.value),placeholder:"Describe qué puede hacer este rol o para qué sirve...",rows:4,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${r.description?"border-red-500":"border-gray-300"}`}),r.description&&e.jsx("p",{className:"text-sm text-red-600",children:r.description}),e.jsx("p",{className:"text-xs text-gray-600",children:"Máximo 500 caracteres. Ayuda a explicar el propósito del rol."})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Información técnica"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(d,{className:"text-sm text-gray-600",children:"Nombre técnico"}),e.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 border rounded-md text-sm font-mono",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No se puede modificar (usado internamente)"})]}),e.jsxs("div",{children:[e.jsx(d,{className:"text-sm text-gray-600",children:"Última actualización"}),e.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 border rounded-md text-sm",children:new Date(s.updated_at).toLocaleString("es-ES")})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx(l,{href:"/admin/roles",children:e.jsx(i,{type:"button",variant:"outline",children:"Cancelar"})}),e.jsx(i,{type:"submit",disabled:m,className:"flex items-center space-x-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Actualizando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:"Guardar Cambios"})]})})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Acciones rápidas"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{href:`/admin/roles/${s.id}/permissions`,children:e.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Gestionar Permisos"]})}),e.jsx(l,{href:`/admin/roles/${s.id}/stats`,children:e.jsxs(i,{variant:"outline",className:"w-full justify-start",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Ver Estadísticas"]})})]})]}),e.jsx(t,{className:"p-4 bg-green-50 border-green-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"✓"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Consejos"}),e.jsxs("ul",{className:"text-sm text-green-700 mt-2 space-y-1",children:[e.jsx("li",{children:"• Usa nombres descriptivos y claros"}),e.jsx("li",{children:"• La descripción ayuda a otros administradores"}),e.jsx("li",{children:"• Los cambios se aplican inmediatamente"}),e.jsx("li",{children:"• Los permisos se gestionan por separado"})]})]})]})})]})]})]})]})}export{V as default};
