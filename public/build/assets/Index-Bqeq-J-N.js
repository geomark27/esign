import{j as e,L as j,$ as a}from"./app-YqAKXmx4.js";import{B as p}from"./badge-C0Huo4Wu.js";import{B as i}from"./app-logo-icon-C5772xde.js";import{u as g,C as n}from"./use-breadcrumbs-CoInKs1f.js";import{A as b,U as l,a as N,S as d}from"./app-layout-BmMVWIgb.js";import{K as f}from"./key-4CiU2R4w.js";import{S as v}from"./square-pen-BS5kUuTP.js";import{C as w}from"./chart-column-Dv1M6wU_.js";import"./index-1v4zfmRw.js";import"./index-BddAxOEG.js";function P({roles:r,flash:t}){const{adminBreadcrumbs:c}=g(),x=c.roles.index(),m=s=>{switch(s.toLowerCase()){case"admin":return"bg-red-500 text-white";case"user":return"bg-blue-500 text-white";case"editor":return"bg-green-500 text-white";case"moderator":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},o=s=>{switch(s.toLowerCase()){case"admin":return d;case"user":return l;default:return d}};return e.jsxs(b,{breadcrumbs:x,children:[e.jsx(j,{title:"Gestión de Roles"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Gestión de Roles"}),e.jsx("p",{className:"text-muted-foreground",children:"Administra los roles del sistema y sus permisos"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.length," roles en total"]})]}),(t==null?void 0:t.success)&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded",children:t.success}),(t==null?void 0:t.error)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded",children:t.error}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(s=>{const h=o(s.name),u=m(s.name);return e.jsxs(n,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${u}`,children:e.jsx(h,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.display_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",s.id]})]})]}),e.jsx(p,{variant:"outline",className:"text-xs",children:s.name})]}),e.jsx("div",{className:"mb-4",children:s.description?e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s.description}):e.jsx("p",{className:"text-sm text-gray-400 italic",children:"Sin descripción"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(l,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-xs font-medium text-blue-700",children:"Usuarios"})]}),e.jsx("div",{className:"text-xl font-bold text-blue-800",children:s.users_count})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(f,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"Permisos"})]}),e.jsx("div",{className:"text-xl font-bold text-green-800",children:s.permissions_count})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(a,{href:`/admin/roles/${s.id}/edit`,children:e.jsxs(i,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),"Editar"]})}),e.jsx(a,{href:`/admin/roles/${s.id}/permissions`,children:e.jsxs(i,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"Permisos"]})})]}),e.jsx(a,{href:`/admin/roles/${s.id}/stats`,children:e.jsxs(i,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Ver Estadísticas"]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Creado:"}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString("es-ES")})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Actualizado:"}),e.jsx("span",{children:new Date(s.updated_at).toLocaleDateString("es-ES")})]})]})]},s.id)})}),e.jsx(n,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"i"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Gestión de Roles"}),e.jsxs("div",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Editar:"})," Modifica el nombre y descripción del rol"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Permisos:"})," Gestiona qué acciones puede realizar cada rol"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Estadísticas:"})," Ve información detallada sobre el uso del rol"]}),e.jsx("p",{children:"• Los cambios en permisos afectan inmediatamente a todos los usuarios con ese rol"})]})]})]})}),r.length===0&&e.jsxs(n,{className:"p-8 text-center",children:[e.jsx(d,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"No hay roles configurados"}),e.jsx("p",{className:"text-gray-500",children:"Parece que no hay roles en el sistema. Esto es inusual."})]})]})]})}export{P as default};
