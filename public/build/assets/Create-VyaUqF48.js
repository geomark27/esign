import{r as x,m as k,j as e,L as _,$ as p}from"./app-DXl8iYFA.js";import{B as d}from"./app-logo-icon-CCDeanD4.js";import{u as L,C as h}from"./use-breadcrumbs-DLBeVAXN.js";import{C as F}from"./checkbox-BnFpLifj.js";import{I as i}from"./input-AXSSoJzL.js";import{L as l}from"./label-BOglfSX4.js";import{A as P}from"./app-layout-Bmd4AfJA.js";import{A as U}from"./arrow-left-CdcNf2ym.js";import{E as j}from"./eye-off-DikgU9yP.js";import{E as u}from"./eye-BobLg2-x.js";import{S as A}from"./save-DSboat0D.js";import"./index-BsE4fqny.js";import"./index-BGF8R9_i.js";import"./check-CZQmsNfI.js";function Q({roles:f}){const{adminBreadcrumbs:N}=L(),b=N.users.create(),[o,g]=x.useState(!1),[n,v]=x.useState(!1),{data:r,setData:t,post:w,processing:m,errors:a,reset:y}=k({name:"",email:"",password:"",password_confirmation:"",roles:[]}),C=s=>{s.preventDefault(),w("/admin/users",{onSuccess:()=>{y()}})},E=(s,c)=>{c?t("roles",[...r.roles,s]):t("roles",r.roles.filter(S=>S!==s))};return e.jsxs(P,{breadcrumbs:b,children:[e.jsx(_,{title:"Crear Usuario"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Crear Nuevo Usuario"}),e.jsx("p",{className:"text-muted-foreground",children:"Completa el formulario para agregar un nuevo usuario al sistema"})]}),e.jsx(p,{href:"/admin/users",children:e.jsxs(d,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:"Volver a Lista"})]})})]}),e.jsx(h,{className:"p-6",children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"name",children:["Nombre Completo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{id:"name",type:"text",value:r.name,onChange:s=>t("name",s.target.value),placeholder:"Ej: Juan Pérez",className:a.name?"border-red-500":""}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"email",children:["Correo Electrónico ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{id:"email",type:"email",value:r.email,onChange:s=>t("email",s.target.value),placeholder:"Ej: juan@ejemplo.com",className:a.email?"border-red-500":""}),a.email&&e.jsx("p",{className:"text-sm text-red-600",children:a.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"password",children:["Contraseña ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"password",type:o?"text":"password",value:r.password,onChange:s=>t("password",s.target.value),placeholder:"Mínimo 8 caracteres",className:a.password?"border-red-500 pr-10":"pr-10"}),e.jsx("button",{type:"button",onClick:()=>g(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?e.jsx(j,{className:"h-4 w-4"}):e.jsx(u,{className:"h-4 w-4"})})]}),a.password&&e.jsx("p",{className:"text-sm text-red-600",children:a.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"password_confirmation",children:["Confirmar Contraseña ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"password_confirmation",type:n?"text":"password",value:r.password_confirmation,onChange:s=>t("password_confirmation",s.target.value),placeholder:"Repite la contraseña",className:a.password_confirmation?"border-red-500 pr-10":"pr-10"}),e.jsx("button",{type:"button",onClick:()=>v(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(j,{className:"h-4 w-4"}):e.jsx(u,{className:"h-4 w-4"})})]}),a.password_confirmation&&e.jsx("p",{className:"text-sm text-red-600",children:a.password_confirmation})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(l,{className:"text-base font-medium",children:["Roles del Usuario ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Selecciona al menos un rol para el usuario"})]}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:f.map(s=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(F,{id:`role-${s.id}`,checked:r.roles.includes(s.id),onCheckedChange:c=>E(s.id,c)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:`role-${s.id}`,className:"text-sm font-medium cursor-pointer",children:s.display_name}),s.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:s.description})]})]},s.id))}),a.roles&&e.jsx("p",{className:"text-sm text-red-600",children:a.roles})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx(p,{href:"/admin/users",children:e.jsx(d,{type:"button",variant:"outline",children:"Cancelar"})}),e.jsx(d,{type:"submit",disabled:m,className:"flex items-center space-x-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Creando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{children:"Crear Usuario"})]})})]})]})}),e.jsx(h,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"i"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Información importante"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[e.jsx("li",{children:"• La contraseña debe tener al menos 8 caracteres"}),e.jsx("li",{children:"• El email debe ser único en el sistema"}),e.jsx("li",{children:"• El usuario será marcado como verificado automáticamente"}),e.jsx("li",{children:"• Puedes asignar múltiples roles si es necesario"})]})]})]})})]})]})}export{Q as default};
