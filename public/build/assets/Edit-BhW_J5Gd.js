import{r as T,m as se,j as e,L as re,$ as k}from"./app-CecMAAZV.js";import{B as O}from"./badge-BA-BIqNY.js";import{c as te,B as m}from"./app-logo-icon-DfF5Rigy.js";import{C as j,a as g,b as f,c as v,d as b}from"./card-CYj-GJA0.js";import{C as ie}from"./checkbox-BS_UNXDs.js";import{I as d}from"./input-WGaoF00a.js";import{L as l}from"./label-DBnFR2J9.js";import{S as y,a as C,b as R,c as S,d as A}from"./select-ChS7d5no.js";import{T as ne}from"./textarea-dMhYuumo.js";import{u as le}from"./use-breadcrumbs-DdIizaZY.js";import{A as ce}from"./app-layout-BMASLV2d.js";import{A as P}from"./arrow-left-BWYQ53fm.js";import{E as de}from"./eye-D6OcTRGM.js";import{C as oe}from"./circle-alert-EEf65jDi.js";import{C as p}from"./circle-check-big-CyAgpmaH.js";import{U as me}from"./user-BXOs6RoN.js";import{M as pe,B as xe}from"./map-pin-C0hYd7Pl.js";import{F as he}from"./file-text-CVpFn08Z.js";import{D as h}from"./download-ChauLNU4.js";import{U as u}from"./upload-CbMDge-v.js";import{S as ue}from"./save-tksyHSq0.js";import"./index-C-AQJaCY.js";import"./index-DV3bmtHZ.js";import"./check-meL_zU52.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ge=te("ArrowRight",je);function Me({certification:r,applicationTypes:q,periods:V,cities:I,provinces:$,statusOptions:Ne,validationStatusOptions:U,canEdit:fe,hasCompanyDocs:M}){var B;const{userBreadcrumbs:G}=le(),H=G.certifications.edit(r.certification_number),[o,D]=T.useState(1),[t,J]=T.useState({}),E=4,{data:s,setData:c,put:W,processing:L,errors:i,progress:w}=se({identificationNumber:r.identificationNumber||"",applicantName:r.applicantName||"",applicantLastName:r.applicantLastName||"",applicantSecondLastName:r.applicantSecondLastName||"",dateOfBirth:r.dateOfBirth?new Date(r.dateOfBirth).toISOString().split("T")[0]:"",fingerCode:r.fingerCode||"",emailAddress:r.emailAddress||"",cellphoneNumber:(B=r.cellphoneNumber)!=null&&B.startsWith("+593")?r.cellphoneNumber:"+593"+(r.cellphoneNumber||""),city:r.city||"",province:r.province||"",address:r.address||"",countryCode:r.countryCode||"ECU",companyRuc:r.companyRuc||"",positionCompany:r.positionCompany||"",companySocialReason:r.companySocialReason||"",appointmentExpirationDate:r.appointmentExpirationDate||"",documentType:r.documentType||"CI",applicationType:r.applicationType||"",referenceTransaction:r.referenceTransaction||"",period:r.period||"",identificationFront:null,identificationBack:null,identificationSelfie:null,pdfCompanyRuc:null,pdfRepresentativeAppointment:null,pdfAppointmentAcceptance:null,pdfCompanyConstitution:null,authorizationVideo:null,terms_accepted:!!r.terms_accepted}),F=s.applicationType==="LEGAL_REPRESENTATIVE";s.applicationType==="NATURAL_PERSON"&&s.companyRuc;const X=r.is_over_65;T.useEffect(()=>{s.applicationType==="NATURAL_PERSON"&&!s.companyRuc&&c(a=>({...a,positionCompany:"",companySocialReason:"",appointmentExpirationDate:""}))},[s.applicationType,s.companyRuc]);const x=a=>n=>{var _;const N=(_=n.target.files)==null?void 0:_[0];N&&c(a,N)},z=a=>{const n={};switch(a){case 1:s.identificationNumber||(n.identificationNumber="Requerido"),s.applicantName||(n.applicantName="Requerido"),s.applicantLastName||(n.applicantLastName="Requerido"),s.fingerCode||(n.fingerCode="Requerido"),s.emailAddress||(n.emailAddress="Requerido"),s.cellphoneNumber||(n.cellphoneNumber="Requerido"),s.dateOfBirth||(n.dateOfBirth="Requerido");break;case 2:s.city||(n.city="Requerido"),s.province||(n.province="Requerido"),s.address||(n.address="Requerido");break;case 3:s.applicationType||(n.applicationType="Requerido"),s.period||(n.period="Requerido"),s.referenceTransaction||(n.referenceTransaction="Requerido"),F&&(s.companyRuc||(n.companyRuc="Requerido"),s.positionCompany||(n.positionCompany="Requerido"),s.companySocialReason||(n.companySocialReason="Requerido"),s.appointmentExpirationDate||(n.appointmentExpirationDate="Requerido"));break;case 4:s.terms_accepted||(n.terms_accepted="Debe aceptar los términos");break}return J(n),Object.keys(n).length===0},Y=()=>{z(o)&&o<E&&D(o+1)},K=()=>{o>1&&D(o-1)},Q=a=>{a.preventDefault()},Z=()=>{z(o)&&W(route("user.certifications.update",r.id))},ee=()=>`Hoy ${new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}).toUpperCase()}, Yo ${s.applicantName} ${s.applicantLastName} ${s.applicantSecondLastName||""} con CI. ${s.identificationNumber} autorizo a FIRMASEGURA emitir mi firma electrónica, sabiendo que tiene la misma validez legal que la firma manuscrita y sea enviada a mi correo electrónico ${s.emailAddress}`,ae=(a,n)=>{const N={REGISTERED:"outline",VALIDATING:"secondary",REFUSED:"destructive",ERROR:"destructive",APPROVED:"default",GENERATED:"default",EXPIRED:"destructive"};return e.jsx(O,{variant:N[a]||"outline",children:n[a]||a})};return e.jsxs(ce,{breadcrumbs:H,children:[e.jsx(re,{title:`Editar Certificación ${r.certification_number}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{href:route("user.certifications.show",r.id),children:e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(P,{className:"h-4 w-4"}),"Volver"]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Editar Certificación ",r.certification_number]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Estado:"}),ae(r.validationStatus,U)]})]})]}),e.jsx(k,{href:route("user.certifications.show",r.id),children:e.jsxs(m,{variant:"outline",children:[e.jsx(de,{className:"h-4 w-4"}),"Ver Detalles"]})})]}),r.validationStatus==="REFUSED"&&e.jsx(j,{className:"border-orange-200 bg-orange-50",children:e.jsx(g,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Esta certificación fue rechazada. Corrige los errores y vuelve a enviar."})]})})}),e.jsx(j,{children:e.jsxs(g,{className:"pt-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium ${a<=o?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:a<o?e.jsx(p,{className:"h-4 w-4"}):a}),a<4&&e.jsx("div",{className:`h-1 w-16 mx-2 ${a<o?"bg-blue-600":"bg-gray-200"}`})]},a))}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Paso ",o," de ",E]})})]})}),e.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[o===1&&e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Información Personal"]}),e.jsx(b,{children:"Datos básicos del solicitante"})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"identificationNumber",children:"Número de Identificación *"}),e.jsx(d,{id:"identificationNumber",value:s.identificationNumber,onChange:a=>c("identificationNumber",a.target.value),placeholder:"1234567890",maxLength:10}),(i.identificationNumber||t.identificationNumber)&&e.jsx("p",{className:"text-sm text-red-500",children:i.identificationNumber||t.identificationNumber})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"fingerCode",children:"Código Dactilar *"}),e.jsx(d,{id:"fingerCode",value:s.fingerCode,onChange:a=>c("fingerCode",a.target.value.toUpperCase()),placeholder:"A1234B5678",maxLength:10}),(i.fingerCode||t.fingerCode)&&e.jsx("p",{className:"text-sm text-red-500",children:i.fingerCode||t.fingerCode})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"applicantName",children:"Primer Nombre *"}),e.jsx(d,{id:"applicantName",value:s.applicantName,onChange:a=>c("applicantName",a.target.value),placeholder:"Juan"}),(i.applicantName||t.applicantName)&&e.jsx("p",{className:"text-sm text-red-500",children:i.applicantName||t.applicantName})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"applicantLastName",children:"Apellido Paterno *"}),e.jsx(d,{id:"applicantLastName",value:s.applicantLastName,onChange:a=>c("applicantLastName",a.target.value),placeholder:"Pérez"}),(i.applicantLastName||t.applicantLastName)&&e.jsx("p",{className:"text-sm text-red-500",children:i.applicantLastName||t.applicantLastName})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"applicantSecondLastName",children:"Apellido Materno"}),e.jsx(d,{id:"applicantSecondLastName",value:s.applicantSecondLastName,onChange:a=>c("applicantSecondLastName",a.target.value),placeholder:"González"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"dateOfBirth",children:"Fecha de Nacimiento *"}),e.jsx(d,{id:"dateOfBirth",type:"date",value:s.dateOfBirth?new Date(s.dateOfBirth).toISOString().split("T")[0]:"",onChange:a=>c("dateOfBirth",a.target.value)}),(i.dateOfBirth||t.dateOfBirth)&&e.jsx("p",{className:"text-sm text-red-500",children:i.dateOfBirth||t.dateOfBirth}),r.current_age&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Edad: ",r.current_age," años",r.is_over_65&&e.jsx(O,{variant:"outline",className:"ml-2 text-orange-600",children:"Mayor de 65"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"emailAddress",children:"Correo Electrónico *"}),e.jsx(d,{id:"emailAddress",type:"email",value:s.emailAddress,onChange:a=>c("emailAddress",a.target.value),placeholder:"correo@ejemplo.com"}),(i.emailAddress||t.emailAddress)&&e.jsx("p",{className:"text-sm text-red-500",children:i.emailAddress||t.emailAddress})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"cellphoneNumber",children:"Número de Celular *"}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"inline-flex items-center px-3 text-sm text-gray-900 bg-gray-200 border border-r-0 border-gray-300 rounded-l-md",children:"+593"}),e.jsx(d,{id:"cellphoneNumber",type:"tel",value:s.cellphoneNumber.replace("+593",""),onChange:a=>{const n=a.target.value.replace(/\D/g,"");n.length<=9&&(n.length>=2&&n.substring(0,2)+""+n.substring(2),n.length>=5&&n.substring(0,2)+""+n.substring(2,5)+n.substring(5),c("cellphoneNumber","+593"+n))},placeholder:"96 831 9032",maxLength:11,className:"rounded-l-none"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Formato: 96 831 9032 (9 dígitos)"}),(i.cellphoneNumber||t.cellphoneNumber)&&e.jsx("p",{className:"text-sm text-red-500",children:i.cellphoneNumber||t.cellphoneNumber})]})]})]}),o===2&&e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"Información de Ubicación"]}),e.jsx(b,{children:"Dirección y ubicación del solicitante"})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"province",children:"Provincia *"}),e.jsxs(y,{value:s.province,onValueChange:a=>c("province",a),children:[e.jsx(C,{children:e.jsx(R,{placeholder:"Seleccionar provincia"})}),e.jsx(S,{children:$.map(a=>e.jsx(A,{value:a,children:a},a))})]}),(i.province||t.province)&&e.jsx("p",{className:"text-sm text-red-500",children:i.province||t.province})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"city",children:"Ciudad *"}),e.jsxs(y,{value:s.city,onValueChange:a=>c("city",a),children:[e.jsx(C,{children:e.jsx(R,{placeholder:"Seleccionar ciudad"})}),e.jsx(S,{children:I.map(a=>e.jsx(A,{value:a,children:a},a))})]}),(i.city||t.city)&&e.jsx("p",{className:"text-sm text-red-500",children:i.city||t.city})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"address",children:"Dirección Completa *"}),e.jsx(ne,{id:"address",value:s.address,onChange:a=>c("address",a.target.value),placeholder:"Av. Principal 123 y Calle Secundaria, Edificio Torres del Norte, Piso 5",rows:3}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mínimo 15 caracteres. Incluye referencias específicas."}),(i.address||t.address)&&e.jsx("p",{className:"text-sm text-red-500",children:i.address||t.address})]})]})]}),o===3&&e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Tipo de Certificación"]}),e.jsx(b,{children:"Información de aplicación y empresa (si aplica)"})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"applicationType",children:"Tipo de Aplicación *"}),e.jsxs(y,{value:s.applicationType,onValueChange:a=>c("applicationType",a),children:[e.jsx(C,{children:e.jsx(R,{placeholder:"Seleccionar tipo"})}),e.jsx(S,{children:Object.entries(q).map(([a,n])=>e.jsx(A,{value:a,children:n},a))})]}),(i.applicationType||t.applicationType)&&e.jsx("p",{className:"text-sm text-red-500",children:i.applicationType||t.applicationType})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"period",children:"Período de Vigencia *"}),e.jsxs(y,{value:s.period,onValueChange:a=>c("period",a),children:[e.jsx(C,{children:e.jsx(R,{placeholder:"Seleccionar período"})}),e.jsx(S,{children:V.map(a=>e.jsxs(A,{value:a.period,children:[a.display_name," - $",a.price]},a.id))})]}),(i.period||t.period)&&e.jsx("p",{className:"text-sm text-red-500",children:i.period||t.period})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"referenceTransaction",children:"Referencia de Transacción *"}),e.jsx(d,{id:"referenceTransaction",value:s.referenceTransaction,onChange:a=>c("referenceTransaction",a.target.value),readOnly:!0,placeholder:"RT-001",maxLength:150}),(i.referenceTransaction||t.referenceTransaction)&&e.jsx("p",{className:"text-sm text-red-500",children:i.referenceTransaction||t.referenceTransaction})]}),F&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Información Empresarial"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"companyRuc",children:"RUC de la Empresa *"}),e.jsx(d,{id:"companyRuc",value:s.companyRuc,onChange:a=>c("companyRuc",a.target.value),placeholder:"1234567890001",maxLength:13}),(i.companyRuc||t.companyRuc)&&e.jsx("p",{className:"text-sm text-red-500",children:i.companyRuc||t.companyRuc})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"companySocialReason",children:"Razón Social *"}),e.jsx(d,{id:"companySocialReason",value:s.companySocialReason,onChange:a=>c("companySocialReason",a.target.value),placeholder:"EMPRESA EJEMPLO S.A.",maxLength:250}),(i.companySocialReason||t.companySocialReason)&&e.jsx("p",{className:"text-sm text-red-500",children:i.companySocialReason||t.companySocialReason})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"positionCompany",children:"Cargo en la Empresa *"}),e.jsx(d,{id:"positionCompany",value:s.positionCompany,onChange:a=>c("positionCompany",a.target.value),placeholder:"Gerente General",maxLength:100}),(i.positionCompany||t.positionCompany)&&e.jsx("p",{className:"text-sm text-red-500",children:i.positionCompany||t.positionCompany})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"appointmentExpirationDate",children:"Vencimiento del Nombramiento *"}),e.jsx(d,{id:"appointmentExpirationDate",type:"date",value:s.appointmentExpirationDate,onChange:a=>c("appointmentExpirationDate",a.target.value)}),(i.appointmentExpirationDate||t.appointmentExpirationDate)&&e.jsx("p",{className:"text-sm text-red-500",children:i.appointmentExpirationDate||t.appointmentExpirationDate})]})]})]})]})}),s.applicationType==="NATURAL_PERSON"&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"RUC Personal (Opcional)"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"companyRuc",children:"RUC Personal"}),e.jsx(d,{id:"companyRuc",value:s.companyRuc,onChange:a=>c("companyRuc",a.target.value),placeholder:"1234567890001",maxLength:13}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Solo si tienes RUC personal activo"})]})]})]})]}),o===4&&e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Documentos y Archivos"]}),e.jsx(b,{children:"Archivos actuales y reemplazos opcionales"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Documentos de Identidad"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Cédula Frontal *"}),r.identificationFront&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded border",children:[e.jsx(p,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Archivo actual"}),e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/storage/${r.identificationFront}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(u,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx(d,{type:"file",accept:"image/*",onChange:x("identificationFront"),className:"hidden",id:"identificationFront"}),e.jsx(l,{htmlFor:"identificationFront",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:r.identificationFront?"Reemplazar archivo":"Seleccionar archivo"}),s.identificationFront&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.identificationFront.name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Cédula Posterior *"}),r.identificationBack&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded border",children:[e.jsx(p,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Archivo actual"}),e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/storage/${r.identificationBack}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(u,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx(d,{type:"file",accept:"image/*",onChange:x("identificationBack"),className:"hidden",id:"identificationBack"}),e.jsx(l,{htmlFor:"identificationBack",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:r.identificationBack?"Reemplazar archivo":"Seleccionar archivo"}),s.identificationBack&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.identificationBack.name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Selfie con Cédula *"}),r.identificationSelfie&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded border",children:[e.jsx(p,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Archivo actual"}),e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/storage/${r.identificationSelfie}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(u,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx(d,{type:"file",accept:"image/*",onChange:x("identificationSelfie"),className:"hidden",id:"identificationSelfie"}),e.jsx(l,{htmlFor:"identificationSelfie",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:r.identificationSelfie?"Reemplazar archivo":"Seleccionar archivo"}),s.identificationSelfie&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.identificationSelfie.name})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"📸 Debe notarse claramente el rostro y sin accesorios extras (gafas, mascarilla, gorra, etc)."})]})]})]}),M&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Documentos Empresariales"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"RUC de la Empresa *"}),r.pdfCompanyRuc&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded border",children:[e.jsx(p,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Archivo actual"}),e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/storage/${r.pdfCompanyRuc}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(u,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx(d,{type:"file",accept:".pdf",onChange:x("pdfCompanyRuc"),className:"hidden",id:"pdfCompanyRuc"}),e.jsx(l,{htmlFor:"pdfCompanyRuc",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:r.pdfCompanyRuc?"Reemplazar PDF":"Seleccionar PDF"}),s.pdfCompanyRuc&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.pdfCompanyRuc.name})]})]}),F&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Nombramiento *"}),r.pdfRepresentativeAppointment&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded border",children:[e.jsx(p,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Archivo actual"}),e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/storage/${r.pdfRepresentativeAppointment}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(u,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx(d,{type:"file",accept:".pdf",onChange:x("pdfRepresentativeAppointment"),className:"hidden",id:"pdfRepresentativeAppointment"}),e.jsx(l,{htmlFor:"pdfRepresentativeAppointment",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:r.pdfRepresentativeAppointment?"Reemplazar PDF":"Seleccionar PDF"}),s.pdfRepresentativeAppointment&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.pdfRepresentativeAppointment.name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Aceptación Nombramiento *"}),r.pdfAppointmentAcceptance&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded border",children:[e.jsx(p,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Archivo actual"}),e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/storage/${r.pdfAppointmentAcceptance}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(u,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx(d,{type:"file",accept:".pdf",onChange:x("pdfAppointmentAcceptance"),className:"hidden",id:"pdfAppointmentAcceptance"}),e.jsx(l,{htmlFor:"pdfAppointmentAcceptance",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800",children:r.pdfAppointmentAcceptance?"Reemplazar PDF":"Seleccionar PDF"}),s.pdfAppointmentAcceptance&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.pdfAppointmentAcceptance.name})]})]})]})]})]}),X&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-4 text-orange-600",children:"Video de Autorización Requerido"}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-4 mb-4",children:[e.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"⚠️ Requisito Especial - Mayor de 65 años"}),e.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"Debe grabar un video leyendo exactamente el siguiente texto:"}),e.jsx("div",{className:"bg-white border border-orange-300 rounded p-3 text-sm font-mono text-gray-800",children:ee()}),e.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"📹 El video debe ser claro, con buena iluminación y audio."})]}),r.authorizationVideo&&e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded border mb-2",children:[e.jsx(p,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Video actual"}),e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("a",{href:`/storage/${r.authorizationVideo}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(h,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"border-2 border-dashed border-orange-300 rounded-lg p-4 text-center",children:[e.jsx(u,{className:"h-8 w-8 mx-auto text-orange-400 mb-2"}),e.jsx(d,{type:"file",accept:"video/*",onChange:x("authorizationVideo"),className:"hidden",id:"authorizationVideo"}),e.jsx(l,{htmlFor:"authorizationVideo",className:"cursor-pointer text-sm text-orange-600 hover:text-orange-800",children:r.authorizationVideo?"Reemplazar video":"Seleccionar video"}),s.authorizationVideo&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:s.authorizationVideo.name})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ie,{checked:s.terms_accepted,onCheckedChange:a=>c("terms_accepted",a===!0)}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"terms_accepted",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Acepto los términos y condiciones *"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Al marcar esta casilla, confirmo que he leído y acepto todos los términos y condiciones del servicio."})]})]}),(i.terms_accepted||t.terms_accepted)&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:i.terms_accepted||t.terms_accepted})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(m,{type:"button",variant:"outline",onClick:K,disabled:o===1,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Anterior"]}),o<E?e.jsxs(m,{type:"button",onClick:Y,children:["Siguiente",e.jsx(ge,{className:"h-4 w-4 ml-2"})]}):e.jsxs(m,{type:"button",onClick:Z,disabled:L,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),L?"Guardando...":"Actualizar Certificación"]})]})]}),w&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-white p-4 rounded-lg shadow-lg border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${w.percentage}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[w.percentage,"%"]})]})})]})]})}export{Me as default};
