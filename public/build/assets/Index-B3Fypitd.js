import{r as m,j as e,L as P,$ as i,S as n}from"./app-DXl8iYFA.js";import{B as I}from"./badge-fZJujToP.js";import{c as S,B as a}from"./app-logo-icon-CCDeanD4.js";import{u as z,C as d}from"./use-breadcrumbs-DLBeVAXN.js";import{I as A}from"./input-AXSSoJzL.js";import{A as M,T as l}from"./app-layout-Bmd4AfJA.js";import{S as q}from"./search-DyTrVFp5.js";import{F as y}from"./file-text-BZgAue3H.js";import{E as $}from"./eye-BobLg2-x.js";import{S as D}from"./square-pen-wY8kXSkY.js";import{T as R}from"./trash-2-XLRBQMQv.js";import{C as x}from"./clock-C8jwJZPZ.js";import{C}from"./circle-check-big-BVJAPuW_.js";import{C as G}from"./circle-x-urjzuD6e.js";import{C as K}from"./circle-alert-CykOxvKb.js";import"./index-BsE4fqny.js";import"./index-BGF8R9_i.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],X=S("Filter",O);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],w=S("Plus",H);function oe({certifications:r,filters:o,statusOptions:u,applicationTypes:p,flash:t}){const{userBreadcrumbs:_}=z(),k=_.certifications.index(),[h,j]=m.useState(o.search||""),[g,N]=m.useState(o.status||""),[v,f]=m.useState(o.type||""),b=()=>{n.get(l("user.certifications.index"),{search:h||void 0,status:g||void 0,type:v||void 0},{preserveState:!0,replace:!0})},T=()=>{j(""),N(""),f(""),n.get(l("user.certifications.index"),{},{preserveState:!0,replace:!0})},B=s=>{confirm("¿Estás seguro de que quieres eliminar esta certificación?")&&n.delete(l("user.certifications.destroy",s.id),{preserveScroll:!0})},E=s=>{switch(s){case"draft":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"in_review":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},F=s=>{switch(s){case"draft":return x;case"pending":return K;case"in_review":return x;case"approved":return C;case"rejected":return G;case"completed":return C;default:return x}};return e.jsxs(M,{breadcrumbs:k,children:[e.jsx(P,{title:"Mis Certificaciones"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mis Certificaciones"}),e.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus solicitudes de certificados digitales"})]}),e.jsx(i,{href:l("user.certifications.create"),children:e.jsxs(a,{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Nueva Certificación"})]})})]}),(t==null?void 0:t.success)&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded",children:t.success}),(t==null?void 0:t.error)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded",children:t.error}),e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Buscar certificación"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(A,{type:"text",placeholder:"Buscar por referencia, nombre...",value:h,onChange:s=>j(s.target.value),className:"pl-10",onKeyPress:s=>s.key==="Enter"&&b()})]})]}),e.jsxs("div",{className:"min-w-[180px]",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Estado"}),e.jsxs("select",{value:g,onChange:s=>N(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Todos los estados"}),Object.entries(u).map(([s,c])=>e.jsx("option",{value:s,children:c},s))]})]}),e.jsxs("div",{className:"min-w-[180px]",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tipo"}),e.jsxs("select",{value:v,onChange:s=>f(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Todos los tipos"}),Object.entries(p).map(([s,c])=>e.jsx("option",{value:s,children:c},s))]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(a,{onClick:b,children:[e.jsx(X,{className:"h-4 w-4 mr-1"}),"Filtrar"]}),e.jsx(a,{variant:"outline",onClick:T,children:"Limpiar"})]})]})}),e.jsx("div",{className:"grid gap-4",children:r.data.length>0?r.data.map(s=>{const c=F(s.status),L=E(s.status);return e.jsx(d,{className:"p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(y,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[s.applicantName," ",s.applicantLastName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Ref: ",s.referenceTransaction]})]}),e.jsxs(I,{className:L,children:[e.jsx(c,{className:"h-3 w-3 mr-1"}),u[s.status]]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Tipo:"}),e.jsx("p",{className:"font-medium",children:p[s.applicationType]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Cédula:"}),e.jsx("p",{className:"font-medium",children:s.identificationNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Período:"}),e.jsx("p",{className:"font-medium",children:s.period.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Creado:"}),e.jsx("p",{className:"font-medium",children:new Date(s.created_at).toLocaleDateString("es-ES")})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx(i,{href:l("user.certifications.show",s.id),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx($,{className:"h-4 w-4"})})}),s.status==="draft"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{href:l("user.certifications.edit",s.id),children:e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(D,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>B(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(R,{className:"h-4 w-4"})})]})]})]})},s.id)}):e.jsxs(d,{className:"p-8 text-center",children:[e.jsx(y,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"No hay certificaciones"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Aún no has creado ninguna solicitud de certificación."}),e.jsx(i,{href:"/certifications/create",children:e.jsxs(a,{children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Crear Primera Certificación"]})})]})}),r.data.length>0&&r.last_page>1&&e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Mostrando ",r.from," a ",r.to," de ",r.total," certificaciones"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r.prev_page_url&&e.jsx(a,{variant:"outline",size:"sm",onClick:()=>n.get(r.prev_page_url),children:"Anterior"}),e.jsxs("span",{className:"text-sm",children:["Página ",r.current_page," de ",r.last_page]}),r.next_page_url&&e.jsx(a,{variant:"outline",size:"sm",onClick:()=>n.get(r.next_page_url),children:"Siguiente"})]})]})})]})]})}export{oe as default};
